<!DOCTYPE html>
<html>
  <head>
    <title id="tab_title">Chat</title>
    <link rel="icon" type="image/x-icon" href="./images/favicon.ico">
    <link rel="stylesheet" href="./style.css">
    <script type="text/javascript" src="./scripts/window.js"></script>
    <script type="text/javascript" src="./scripts/pages.js"></script>
    <script type="text/javascript" src="./scripts/websocket.js"></script>
  </head>
  <body onload="setup()" onunload="teardown()">
    <div class="center">
      <noscript class="warning">
        <b><u>ERROR:</u></b>
        Your web browser does not suppport javascript or you have it disabled in your settings.  Javascript is required for nearly everything on the internet and it is highly recommended that you enable it or upgrade to a newer web browser.
      </noscript>
      <h1 id="Heading">Chat</h1>
      <div id="Welcome">
        <p>
          Welcome to "Chat", a simple, fast-loading, and easy-to-use messaging site hosted on the local network.
        </p><br>
        <p>
          <label for="Name_input">Your Name:  </label>
          <input id="Name_input" type="text" size="41" onclick="refresh('Name_input')" oninput="document.getElementById('Name2').style.display = 'none'; updateName('Name_input')" autofocus>
        </p><br>
        <p>
          <label for="Room_input">Chat Room ID: </label>
          <input id="Room_input" type="text" size="7" oninput="checkForPassword()" onclick="refresh('Room_input')"> 
          OR 
          <button onclick="proposeNewRoom()">Create New Chat Room</button>
        </p>
        <p id="getPass" style="display: none">
          <label for="Pass_input">Chat Room Password: </label>
          <input id="Pass_input" type="password" size="30" onclick="refresh('Pass_input')">
        </p><br>
        <button onclick="enterRoom('', '')">GO →</button>
      </div>
      <div id="Create Chat Room" style="display: none">
        <p>
          <label for="New_room_input">ID for New Room: </label>
          <input id="New_room_input" type="text" size="7" onclick="refresh('New_room_input')">
        </p>
        <p>
          <label for="New_pass_input">Room Password*:  </label>
          <input id="New_pass_input" type="text" size="7">
        </p>
        <p>
          *Leave the password space blank to disable the need to type in a password to get in.  It will then be possible, yet unlikely, for a random person to access your Chat Room.
        </p><br>
        <button onclick="home()">Back</button> 
        <button onclick="newRoom()">Create Room →</button>
      </div>
      <div id="Chat" style="display: none">
        <p id="Name2">
          <label for="Name_input_2">Your Name:  </label>
          <input id="Name_input_2" type="text" size="41" onclick="refresh('Name_input_2')" oninput="updateName('Name_input_2')">  
          <button onclick="document.getElementById('Name2').style.display = 'none'">Enter</button><br>
        </p>
        <p id="ClearRequests" class="warning"></p>
        <div id="Link Output" style="display: none">
          <p>The generated link will lead to this website and automatically enter the room ID and password. You can also make the link automatically enter someone's name automatically.</p><br>
          <input id="linkForm name" type="checkbox" class="checkbox" onclick="link.refresh()"><label for="linkForm name">Enter name automatically</label><br>
          <label for="linkForm text" style="display: none">Who is this link for? </label><input id="linkForm text" type="text" size="30" style="display: none" oninput="link.refresh()"><br>
          <p id="link" class="copy_content" onclick="link.copy()"></p>
          <p>Click the link above to copy it.</p><br>
        </div>
        <p>
          <button onclick="home()">Home</button>
          <button onclick="clear_chat.vote.yes(true); this.style.display = 'none'" id="clear button">Clear All</button>
          <button onclick="newColor()">New Color</button>
          <button onclick="link.start()">Link</button>
          <button onclick="window.open('https://github.com/WesleyMcGinn/Chat/tree/main/Chrome%20Extension', '_blank')">Extension</button>
        </p><br>
        <textarea id="Write" cols="57" rows="5" onclick="startChat()" onfocus="startChat()">Type a message here....</textarea>
        <div id="Preview" style="padding: 7px; background-color: #eef5; border-radius: 12px"></div><br>
        <button onclick="post()">Post</button><br><br>
        <div id="Messages"></div>
      </div>
    </div>
  </body>
</html>