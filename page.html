<!DOCTYPE html>
<html>
  <head>
    <title id="Tab">Chat</title>
    <link rel="icon" type="image/x-icon" href="./images/favicon.ico">
    <link rel="stylesheet" href="./style.css">
    <script type="text/javascript" src="./scripts/other.js"></script>
    <script type="text/javascript" src="./scripts/websocket.js"></script>
    <script type="text/javascript" src="./scripts/pages.js"></script>
    <script type="text/javascript" src="./scripts/rooms.js"></script>
    <script type="text/javascript" src="./scripts/link.js"></script>
  </head>
  <body onload="setup()" onunload="teardown()">
    <div class="center">
      <noscript class="warning">
        <b><u>ERROR:</u></b>
        Your web browser does not suppport javascript or you have it disabled in your settings.  Javascript is required for nearly everything on the internet and it is highly recommended that you enable it or upgrade to a newer web browser.
      </noscript>
      <h1 id="Heading">Chat</h1>
      <div id="Home">
        <p>
          Welcome to "Chat", a simple, fast-loading, and easy-to-use messaging site hosted on the local network.
        </p><br>
        <p>
          <label for="Name Input 1">Your Name:  </label>
          <input id="Name Input 1" type="text" size="41" onclick="refreshBlank(this)" oninput="updateName(this)" autofocus>
        </p><br>
        <p>
          <label for="Room Input">Chat Room ID: </label>
          <input id="Room Input" type="text" size="7" oninput="checkForPassword()" onclick="refresh('Room_input')"> 
          OR 
          <button onclick="proposeNewRoom()">Create New Chat Room</button>
        </p>
        <p id="Password Needed">
          <label for="Password Input">Chat Room Password: </label>
          <input id="Password Input" type="password" size="30" onclick="refreshBlank(this)">
        </p><br>
        <button onclick="enterRoom('', '')">GO</button>
      </div>
      <div id="New" style="display: none">
        <p>
          <label for="New Room Name Input">New Room ID: </label>
          <input id="New Room Name Input" type="text" size="24" onclick="refreshBlank(this)">
        </p>
        <p>
          <label for="New Room Password Input">Room Password: </label>
          <input id="New Room Password Input" type="text" size="24">
        </p><br>
        <button onclick="home()">Back</button> 
        <button onclick="newRoom()">Create Room</button>
      </div>
      <div id="Chat" style="display: none">
        <p id="Enter Name In Room">
          <label for="Name Input 2">Your Name:  </label>
          <input id="Name Input 2" type="text" size="41" onclick="refreshBlank(this)" oninput="updateName(this)">  
          <button onclick="document.getElementById('Enter Name In Room').style.display = 'none'">Enter</button><br>
        </p>
        <div id="Link Output" style="display: none">
          <p>The generated link will lead to this website and automatically enter the room ID and password. You can also make the link automatically enter someone's name automatically.</p><br>
          <input id="linkForm name" type="checkbox" class="checkbox" onclick="link.refresh()"><label for="linkForm name">Enter name automatically</label><br>
          <label for="linkForm text" style="display: none">Who is this link for? </label><input id="linkForm text" type="text" size="30" style="display: none" oninput="link.refresh()"><br>
          <p id="link" class="copy_content" onclick="link.copy()"></p>
          <p>Click the link above to copy it.</p><br>
        </div>
        <p>
          <button onclick="page('home')">Home</button>
          <button onclick="sendData('C', roomNumber);">Clear All</button>
          <button onclick="sendData('O', JSON.stringify([roomNumber.toString(), myColor]))">New Color</button>
          <button onclick="link.toggle()">Link</button>
        </p><br>
        <textarea id="Write" cols="57" rows="5" onclick="if(this.value != 'Type a message here....'){refreshBlank(this)}">Type a message here....</textarea>
        <div id="Preview" style="padding: 7px; background-color: #eef5; border-radius: 12px"></div><br>
        <button onclick="room.post()">Post</button><br><br>
        <div id="Messages"></div>
      </div>
    </div>
  </body>
</html>
